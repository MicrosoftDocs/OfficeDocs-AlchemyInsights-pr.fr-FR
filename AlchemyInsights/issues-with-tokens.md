---
title: Problèmes avec les jetons
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 01/15/2021
ms.audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "7774"
- "9004351"
ms.openlocfilehash: 14a9681c08920094813497e7a75eb87bb0733cbc
ms.sourcegitcommit: e378232f4c9ef4e962208100db752221e7bd2dd6
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/20/2021
ms.locfileid: "49912004"
---
# <a name="issues-with-tokens"></a><span data-ttu-id="fc225-102">Problèmes avec les jetons</span><span class="sxs-lookup"><span data-stu-id="fc225-102">Issues with tokens</span></span>

<span data-ttu-id="fc225-103">Pour gérer les problèmes liés aux jetons, vous pouvez effectuer ces étapes :</span><span class="sxs-lookup"><span data-stu-id="fc225-103">To manage issues related to tokens, you can perform the following steps:</span></span>

1. <span data-ttu-id="fc225-104">Vous pouvez spécifier la durée de vie d’un jeton d’accès, d’ID ou SAML émis par la plateforme d’identités Microsoft.</span><span class="sxs-lookup"><span data-stu-id="fc225-104">You can specify the lifetime of an access, ID, or SAML token issued by Microsoft identity platform.</span></span> <span data-ttu-id="fc225-105">Vous pouvez définir les durées de vie des jetons pour toutes les applications de votre organisation, pour une application mutualisée (multi-organisation) ou pour un principal de service spécifique dans votre organisation.</span><span class="sxs-lookup"><span data-stu-id="fc225-105">You can set token lifetimes for all apps in your organization, for a multi-tenant (multi-organization) application, or for a specific service principal in your organization.</span></span> <span data-ttu-id="fc225-106">Pour plus d'informations, consultez [Durées de vie des jetons configurables dans la plateforme d'identité de Microsoft (préversion)](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes).</span><span class="sxs-lookup"><span data-stu-id="fc225-106">For more information, see [Configurable token lifetimes in Microsoft identity platform (preview)](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes).</span></span>
2. <span data-ttu-id="fc225-107">Les jetons Access permettent aux clients d’appeler des API web protégées en toute sécurité et sont utilisés par les API web pour effectuer l’authentification et l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="fc225-107">Access tokens enable clients to securely call protected web APIs, and are used by web APIs to perform authentication and authorization.</span></span> <span data-ttu-id="fc225-108">Comme pour la spécification OAuth, les jetons d’accès sont des chaînes opaques sans format de jeu : certains fournisseurs d’identité (IDPs) utilisent des GUID, tandis que d’autres utilisent des blobs chiffrés.</span><span class="sxs-lookup"><span data-stu-id="fc225-108">As per the OAuth specification, access tokens are opaque strings without a set format - some identity providers (IDPs) use GUIDs, others use encrypted blobs.</span></span> <span data-ttu-id="fc225-109">La plateforme d’identité Microsoft utilise différents formats de jeton d’accès, selon la configuration de l’API qui accepte le jeton.</span><span class="sxs-lookup"><span data-stu-id="fc225-109">The Microsoft identity platform uses a variety of access token formats, depending on the configuration of the API that accepts the token.</span></span> <span data-ttu-id="fc225-110">Pour découvrir comment votre API peut valider et utiliser les revendications dans un jeton d’accès, consultez [Jetons d’accès de la plateforme d’identité Microsoft](https://docs.microsoft.com/azure/active-directory/develop/userinfo#calling-the-userinfo-endpoint).</span><span class="sxs-lookup"><span data-stu-id="fc225-110">To learn how your API can validate and use the claims inside an access token, see [Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/userinfo#calling-the-userinfo-endpoint).</span></span>
3. <span data-ttu-id="fc225-111">La bibliothèque d’authentification Microsoft (MSAL) prend en charge l’utilisation de plusieurs flux d’authentification dans différents scénarios d’application.</span><span class="sxs-lookup"><span data-stu-id="fc225-111">The Microsoft Authentication Library (MSAL) supports several authentication flows for use in different application scenarios.</span></span> <span data-ttu-id="fc225-112">Pour plus d’informations, consultez [Flux d’authentification](https://docs.microsoft.com/azure/active-directory/develop/msal-authentication-flows#how-each-flow-emits-tokens-and-codes).</span><span class="sxs-lookup"><span data-stu-id="fc225-112">For more information, see [Authentication flows](https://docs.microsoft.com/azure/active-directory/develop/msal-authentication-flows#how-each-flow-emits-tokens-and-codes).</span></span>
4. <span data-ttu-id="fc225-113">L’autorisation de code d’autorisation OAuth 2.0 peut être utilisée dans les applications installées sur un appareil pour accéder à des ressources protégées, telles que les API web.</span><span class="sxs-lookup"><span data-stu-id="fc225-113">The OAuth 2.0 authorization code grant can be used in apps that are installed on a device to gain access to protected resources, such as web APIs.</span></span> <span data-ttu-id="fc225-114">À l’aide de l’implémentation de la plateforme d’identité Microsoft OAuth 2.0, vous pouvez ajouter l’accès à la connexion et à l’API à vos applications mobiles et de bureau.</span><span class="sxs-lookup"><span data-stu-id="fc225-114">Using the Microsoft identity platform implementation of OAuth 2.0, you can add sign-in and API access to your mobile and desktop apps.</span></span> <span data-ttu-id="fc225-115">Consultez [Plateforme d’identité Microsoft et flux de code d’autorisation OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow#refresh-the-access-token) pour la programmation directe via le protocole dans votre application, en utilisant n’importe quelle langue.</span><span class="sxs-lookup"><span data-stu-id="fc225-115">See [Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow#refresh-the-access-token) for how to program directly against the protocol in your application, using any language.</span></span>
5. <span data-ttu-id="fc225-116">OpenID Connect (OIDC) est un protocole d’authentification intégré à OAuth 2.0 que vous pouvez utiliser pour connecter en toute sécurité un utilisateur à une application.</span><span class="sxs-lookup"><span data-stu-id="fc225-116">OpenID Connect (OIDC) is an authentication protocol built on OAuth 2.0 that you can use to securely sign in a user to an application.</span></span> <span data-ttu-id="fc225-117">Lorsque vous utilisez l’implémentation OpenID Connect du point de terminaison de la plateforme d’identité Microsoft, vous pouvez ajouter un accès de connexion et d’API à vos applications.</span><span class="sxs-lookup"><span data-stu-id="fc225-117">When you use the Microsoft identity platform endpoint's implementation of OpenID Connect, you can add sign-in and API access to your apps.</span></span> <span data-ttu-id="fc225-118">[La plateforme d’identité Microsoft et le protocole OpenID Connect](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc#send-the-sign-in-request) expliquent la procédure indépendamment de la langue et décrit l’envoi et la réception de messages HTTP sans utiliser une bibliothèque Microsoft open source.</span><span class="sxs-lookup"><span data-stu-id="fc225-118">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc#send-the-sign-in-request) shows how to do this independent of language and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>
    - <span data-ttu-id="fc225-119">Le point de terminaison UserInfo fait partie de la norme OIDC, conçue pour renvoyer les réclamations concernant l’utilisateur authentifié.</span><span class="sxs-lookup"><span data-stu-id="fc225-119">The UserInfo endpoint is part of the OIDC standard, designed to return claims about the user that authenticated.</span></span> <span data-ttu-id="fc225-120">Pour plus d’informations, consultez [Point de terminaison userInfo de la plateforme d’identités Microsoft.](https://docs.microsoft.com/azure/active-directory/develop/userinfo#consider-use-an-id-token-instead)</span><span class="sxs-lookup"><span data-stu-id="fc225-120">For more information, see [Microsoft identity platform UserInfo endpoint](https://docs.microsoft.com/azure/active-directory/develop/userinfo#consider-use-an-id-token-instead).</span></span>
    - <span data-ttu-id="fc225-121">L’exemple [Appeler une API web dans une application web à l’aide de Azure AD et OpenID Connect](https://docs.microsoft.com/samples/azure-samples/active-directory-dotnet-webapp-webapi-openidconnect/active-directory-dotnet-webapp-webapi-openidconnect/) montre comment créer une application web MVC qui utilise Azure AD pour se connecter à l’aide du protocole OpenID Connect pour appeler une API web sous l’identité de l’utilisateur connecté à l’aide de jetons obtenus via OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="fc225-121">The [Calling a web API in a web app using Azure AD and OpenID Connect](https://docs.microsoft.com/samples/azure-samples/active-directory-dotnet-webapp-webapi-openidconnect/active-directory-dotnet-webapp-webapi-openidconnect/) sample shows how to build an MVC web application that uses Azure AD for sign-in using the OpenID Connect protocol, and then call a web API under the signed-in user's identity using tokens obtained via OAuth 2.0.</span></span> <span data-ttu-id="fc225-122">Cet exemple utilise l’intergiciel OWIN ASP.Net OpenID Connect et ADAL .Net.</span><span class="sxs-lookup"><span data-stu-id="fc225-122">This sample uses the OpenID Connect ASP .Net OWIN middleware and ADAL .Net.</span></span>
6. <span data-ttu-id="fc225-123">[Configurer une application pour exposer une API web](https://docs.microsoft.com/azure/active-directory/develop/quickstart-configure-app-expose-web-apis) - Dans ce démarrage rapide, vous devez inscrire une API web sur la plateforme d’identités Microsoft et l’exposer aux applications clientes en ajoutant une étendue d’exemple.</span><span class="sxs-lookup"><span data-stu-id="fc225-123">[Configure an application to expose a web API](https://docs.microsoft.com/azure/active-directory/develop/quickstart-configure-app-expose-web-apis) - In this quickstart, you register a web API with the Microsoft identity platform and expose it to client apps by adding an example scope.</span></span> <span data-ttu-id="fc225-124">L’inscription et l’exposition de votre API web à travers des étendues, vous permet de fournir un accès basé sur les autorisations à ses ressources aux utilisateurs autorisés et aux applications clientes qui accèdent à votre API.</span><span class="sxs-lookup"><span data-stu-id="fc225-124">By registering your web API and exposing it through scopes, you can provide permissions-based access to its resources to authorized users and client apps that access your API.</span></span>
7. <span data-ttu-id="fc225-125">Dans Azure Active Directory B2C (Azure AD B2C), le flux d’identifiants de mot de passe du propriétaire de la ressource (ROPC) est un flux d’authentification standard OAuth.</span><span class="sxs-lookup"><span data-stu-id="fc225-125">In Azure Active Directory B2C (Azure AD B2C), the resource owner password credentials (ROPC) flow is an OAuth standard authentication flow.</span></span> <span data-ttu-id="fc225-126">Dans ce flux, une application, également appelée partie fiable, permet d’échanger des identifiants valides pour les jetons.</span><span class="sxs-lookup"><span data-stu-id="fc225-126">In this flow, an application, also known as the relying party, exchanges valid credentials for tokens.</span></span> <span data-ttu-id="fc225-127">Les identifiants incluent un identifiant d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc225-127">The credentials include a user ID and password.</span></span> <span data-ttu-id="fc225-128">Les jetons renvoyés sont un jeton d’ID, un jeton d’accèss et un jeton d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="fc225-128">The tokens returned are an ID token, access token, and a refresh token.</span></span> <span data-ttu-id="fc225-129">Pour plus d’informations, consultez [Configurer un flux d’identifiants de mot de passe de propriétaire de ressource dans Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/add-ropc-policy?tabs=app-reg-ga&pivots=b2c-user-flow).</span><span class="sxs-lookup"><span data-stu-id="fc225-129">For more information, see [Set up a resource owner password credentials flow in Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/add-ropc-policy?tabs=app-reg-ga&pivots=b2c-user-flow).</span></span> 

